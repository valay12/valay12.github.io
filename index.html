<!DOCTYPE html>
<html>
<head>
  <title>Loan Calculator</title>
  <script>
    function calculate() {
      const amount = document.getElementById('amount').value;
      const interestRate = document.getElementById('interestRate').value;
      if (!interestRate) {
          return
      }
      const monthlyRate = interestRate / 1200
      const rateTerm = Math.pow((1 + monthlyRate), 25*12)
      const numerator = rateTerm - 1
      const denominator = monthlyRate * rateTerm
      const loanAmt = (amount * numerator) / denominator
      // Simple loan calculation formula (just for demonstration)
      // const monthlyPayment = amount * (interestRate / 1200) / (1 - Math.pow(1 + interestRate / 1200, -60)); // Assuming a 5-year loan term (60 months)
      // const borrowAmount = monthlyPayment * 60; // Total amount you can borrow over 5 years -->
      
      document.getElementById('borrowAmount').innerText = toDollars(loanAmt);
    }

    function updateSliderValue() {
      const sliderValue = document.getElementById('amount').value;
      document.getElementById('sliderValue').innerText = toDollars(sliderValue);
      calculate()
    }

    function toDollars(num) {
        num = num.toString()
        const splitVal = num.split('.')
        const left = splitVal[0].split('')
        var i = left.length - 1
        var numCt = 0
        var finalVal = ''
        while (i >= 0) {
            finalVal = left[i] + finalVal
            numCt += 1
            if (numCt === 3 && i !== 0) {
                numCt = 0
                finalVal = ',' + finalVal
            }
            i -= 1
        } 
        if (splitVal.length == 2) {
            finalVal += '.' + splitVal[1].slice(0,2)
        }
        return '$' + finalVal
    }
  </script>
</head>
<body>
  <form>
    <label for="amount">Amount you can pay every month:</label><br>
    <input type="range" id="amount" name="amount" min="1000" max="10000" step="50" value="5000" oninput="updateSliderValue()"><br>
    <span id="sliderValue">5000</span><br><br> <!-- Display slider value -->
    
    <label for="interestRate">Interest rate:</label><br>
    <input type="text" id="interestRate" name="interestRate" placeholder="Enter interest rate"> %<br><br>
    
    <input type="button" value="Calculate" onclick="calculate()"><br><br>
    
    <label for="borrowAmount">You can borrow:</label><br>
    <output id="borrowAmount">0</output>
  </form>
</body>
</html>
